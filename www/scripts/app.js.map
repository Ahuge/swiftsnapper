{"version":3,"file":"app.js","sourceRoot":"","sources":["../../scripts/SC/snapchat.agent.ts","../../scripts/SC/snapchat.models.ts","../../scripts/SC/snapchat.ts","../../scripts/index.ts"],"names":["Snapchat","Snapchat.SnapchatAgent","Snapchat.SnapchatAgent.constructor","Snapchat.SnapchatAgent.Initialize","Snapchat.SnapchatAgent.GenerateTimeStamp","Snapchat.SnapchatAgent.GenerateRequestToken","Snapchat.SnapchatAgent.InitializeCasper","Snapchat.SnapchatAgent.PostCasper","Snapchat.SnapchatAgent.GenerateCasperTokenHash","Snapchat.SnapchatAgent.GenerateCasperRequestSignature","Snapchat.SnapchatAgent.GenerateCasperDeviceId","Snapchat.SnapchatAgent.ArrayToURIParameters","Snapchat.SnapchatHttp","Snapchat.SnapchatHttp.ConfigureHeaders","Snapchat.User","Snapchat.User.constructor","Snapchat.Client","Snapchat.Client.constructor","Snapchat.Client.Initialize","Snapchat.Client.Login","swiftsnapper","swiftsnapper.CameraManager","swiftsnapper.CameraManager.initialize","swiftsnapper.CameraManager.takePhoto","swiftsnapper.Application","swiftsnapper.Application.initialize","swiftsnapper.Application.onDeviceReady","swiftsnapper.Application.onPause","swiftsnapper.Application.onResume"],"mappings":"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","sourcesContent":["declare var Hashes: any;\r\nvar sha256 = new Hashes.SHA256\r\n\r\nnamespace Snapchat {\r\n    export class SnapchatAgent{\r\n        public SNAPCHAT_BASE_ENDPOINT = 'https://app.snapchat.com';\r\n        public SNAPCHAT_EVENTS_ENDPOINT = 'https://sc-analytics.appspot.com/post_events';\r\n        public SNAPCHAT_ANALYTICS_ENDPOINT = 'https://sc-analytics.appspot.com/analytics/b';\r\n        public SNAPCHAT_HASH_PATTERN = '0001110111101110001111010101111011010001001110011000110001000110';\r\n        public SNAPCHAT_API_SECRET = 'iEk21fuwZApXlz93750dmW22pw389dPwOk';\r\n        public SNAPCHAT_API_STATIC_TOKEN = 'm198sOkJEn37DjqZ32lpRu76xmw288xSQ9';\r\n        public SNAPCHAT_CLIENT_AUTH_TOKEN = null;\r\n        public SNAPCHAT_CLIENT_TOKEN = null;\r\n        public SNAPCHAT_UUID = null;\r\n        public SNAPCHAT_USER_AGENT = null;\r\n        public SNAPCHAT_VERSION = 'x.x.x.x';\r\n\r\n        public CASPER_USER_AGENT = 'Casper/1.5.2.3 (SwiftSnapper; Windows 10; gzip)';\r\n        public CASPER_ENDPOINT = 'https://api.casper.io';\r\n        public CASPER_HASH_PATTERN = '0100011111110000101111101001101011110010100110011101110010101000';\r\n        public CASPER_API_KEY = '740c1d60b292fc8a44cdc9a3301e124a';\r\n        public CASPER_API_TOKEN = '9UpsYwhthWspIoHonKjniOMu09UBkS9w';\r\n        public CASPER_API_SECRET = 'fuckinginsecuresecretkey'; //API secret taken from io.casper.android.n.a.a\r\n        public CASPER_SIGNATURE = 'v1:3d603604ff4a56d8a6821e9edfd8bb1257af436faf88c1a9bbb9dcefe8a56849';\r\n        public CASPER_VERSION = '1.5.2.3';\r\n        public CASPER_DEVICE_ID = null;\r\n\r\n        public Initialize() {\r\n            return new Promise((resolve) => {\r\n                this.InitializeCasper().then(function () {\r\n                    resolve(this);\r\n                });\r\n            });\r\n        }\r\n\r\n        /*\r\n            Generates a UNIX timestamp\r\n        */\r\n        public GenerateTimeStamp() {\r\n            return Math.round((new Date).getTime());\r\n        }\r\n\r\n        /*\r\n            Generates req_token\r\n            based on https://github.com/cuonic/SnapchatDevWiki/wiki/Generating-the-req_token\r\n        */\r\n        public GenerateRequestToken(token, timestamp) {\r\n            let hash1: string = sha256.hex(this.SNAPCHAT_API_SECRET + token);\r\n            let hash2: string = sha256.hex(timestamp.toString() + this.SNAPCHAT_API_SECRET);\r\n\r\n            let res = '';\r\n            for (var n = 0; n < this.SNAPCHAT_HASH_PATTERN.length; n++) {\r\n                if (parseInt(this.SNAPCHAT_HASH_PATTERN.substr(n, 1))) {\r\n                    res += hash2[n];\r\n                } else {\r\n                    res += hash1[n];\r\n                }\r\n            }\r\n            return res;\r\n        }\r\n\r\n\r\n        /*\r\n            Casper Related functions.\r\n            TODO: move to snapchat.casper.agent.ts\r\n            ==================================================\r\n        */\r\n\r\n        /*\r\n\t        Initialize Casper for use\r\n        */\r\n        private InitializeCasper() {\r\n            this.CASPER_DEVICE_ID = this.GenerateCasperDeviceId();\r\n            var timestamp = this.GenerateTimeStamp();\r\n\r\n            var self = this;\r\n            return new Promise((resolve) => {\r\n                let headers = {\r\n                    'Connection': 'Keep-Alive',\r\n                    'Accept-Encoding': 'gzip',\r\n                    'User-Agent': this.CASPER_USER_AGENT,\r\n                };\r\n\r\n                this.PostCasper('/config', [\r\n                    ['casper_version', this.CASPER_VERSION],\r\n                    ['device_id', this.CASPER_DEVICE_ID],\r\n                    ['snapchat_version', this.SNAPCHAT_VERSION],\r\n                    ['timestamp', timestamp.toString()],\r\n                    ['token', this.CASPER_API_TOKEN],\r\n                    ['token_hash', this.GenerateCasperTokenHash(timestamp)]\r\n                ], headers).then(function (conf) {\r\n                    let config = JSON.parse(conf);\r\n\r\n                    if (config.code !== 200)\r\n                        console.log('Failed to fetch Casper config!'); //TODO: Show error dialog through custom message class\r\n\r\n                    var sc_ver = self.SNAPCHAT_VERSION;\r\n                    self.SNAPCHAT_VERSION = config.configuration.snapchat.login.snapchat_version;\r\n\r\n                    resolve(this);\r\n                });\r\n            });\r\n        }\r\n\r\n        /*\r\n\t        Post request to Casper.io's API\r\n        */\r\n        public PostCasper(URI, parameters, headers?): Promise<string> {\r\n            if (headers == null) {\r\n                headers = {};\r\n            }\r\n\r\n            if (URI == null || parameters == null)\r\n                return null;\r\n            URI = new Windows.Foundation.Uri(this.CASPER_ENDPOINT + URI);\r\n\r\n            let REQ = Windows.Web['Http'].HttpStringContent(this.ArrayToURIParameters(parameters), Windows.Storage.Streams.UnicodeEncoding.utf8, 'application/x-www-form-urlencoded'),\r\n                HTTP = new Windows.Web['Http'].HttpClient(),\r\n                HEAD = HTTP.defaultRequestHeaders;\r\n\r\n            HEAD = SnapchatHttp.ConfigureHeaders(HEAD, headers);\r\n            HEAD.append('X-Casper-API-Key', this.CASPER_API_KEY);\r\n            HEAD.append('X-Casper-Signature', this.GenerateCasperRequestSignature(parameters));\r\n            HEAD.append('X-Message-To-Casper', 'Contact me!');\r\n\r\n            return new Promise((resolve) => {\r\n                let promise = HTTP.postAsync(URI, REQ).done(function (res) {\r\n                    res.content.readAsStringAsync().done(function (e) {\r\n                        resolve(e)\r\n                    });\r\n                });\r\n            });\r\n        }\r\n\r\n        /*\r\n\t        Generates Token hash to be used with Casper's API\r\n        */\r\n        public GenerateCasperTokenHash(timestamp) {\r\n            let s1: string = sha256.hex(this.CASPER_DEVICE_ID + this.CASPER_API_TOKEN),\r\n                s2: string = sha256.hex(this.CASPER_API_TOKEN + timestamp.toString());\r\n\r\n            let res = '';\r\n            for (var n = 0; n < this.CASPER_HASH_PATTERN.length; n++) {\r\n                if (this.CASPER_HASH_PATTERN.charAt(n) === '0') {\r\n                    res += s1[n];\r\n                } else {\r\n                    res += s2[n];\r\n                }\r\n            }\r\n            return res;\r\n        }\r\n\r\n        /*\r\n\t        Generates Signature to be used with Casper's API\r\n\t        P.S Casper expects the parameters to be in alphabetical order.\r\n        */\r\n        private GenerateCasperRequestSignature(parameters) {\r\n            let req = '';\r\n            parameters = parameters.sort(function (a, b) {\r\n                return a[0].localeCompare(b[0]);\r\n            })\r\n            for (var n = 0; n < parameters.length; n++) {\r\n                req += parameters[n][0] + parameters[n][1];\r\n            }\r\n\r\n            return 'v1:' + sha256.hex_hmac(this.CASPER_API_SECRET, req);\r\n        }\r\n\r\n        //TODO: Investigate how Android's device id is generated\r\n        private GenerateCasperDeviceId() {\r\n            var id = '';\r\n            var charset = \"abcdefghijklmnopqrstuvwxyz0123456789\";\r\n            for (var i = 0; i <= 16; i++)\r\n                id += charset.charAt(Math.floor(Math.random() * charset.length));\r\n            return id;\r\n        }\r\n\r\n        /*\r\n\t        Converts an Array of Arrys to uri parameters\r\n\t        Ex. input [['para1', 'val1'], ['para2', 'val2'], ['para3', 'val3']].\r\n        */\r\n        public ArrayToURIParameters(data: Array<Array<string>>) {\r\n            data = data.sort(function (a, b) {\r\n                return a[0] > b[0] ? 1 : -1;\r\n            })\r\n\r\n            var res = '';\r\n            for (var n = 0; n < data.length; n++) {\r\n                if (res != '') {\r\n                    res += '&';\r\n                }\r\n                res += data[n][0] + '=' + data[n][1];\r\n            }\r\n            return res;\r\n        }\r\n    }\r\n\r\n    module SnapchatHttp {\r\n        export function ConfigureHeaders(HEAD, headers) {\r\n            //TODO: Custom headers?\r\n            if (typeof headers['Accept-Encoding'] !== 'undefined') {\r\n                HEAD.acceptEncoding.clear();\r\n                HEAD.acceptEncoding.parseAdd(headers['Accept-Encoding']);\r\n            }\r\n            if (typeof headers.Accept !== 'undefined')\r\n                HEAD.accept.parseAdd(headers.Accept);\r\n            if (typeof headers['Accept-Language'] !== 'undefined')\r\n                HEAD.acceptLanguage.parseAdd(headers['Accept_Language']);\r\n            if (typeof headers['Accept-Locale'] !== 'undefined')\r\n                HEAD.acceptLocale.parseAdd(headers['Accept_Locale']);\r\n            if (typeof headers.Connection !== 'undefined')\r\n                HEAD.connection.parseAdd(headers.Connection);\r\n            if (typeof headers['Cache-Control'] !== 'undefined')\r\n                HEAD.cacheControl.parseAdd(headers.CacheControl);\r\n            else\r\n                HEAD.cacheControl.clear();\r\n            if (typeof headers['User-Agent'] !== 'undefined')\r\n                HEAD.userAgent.parseAdd(headers['User-Agent']);\r\n\r\n            return HEAD;\r\n        }\r\n    }\r\n}","namespace Snapchat {\r\n    export class User {\r\n\r\n    }\r\n\r\n    export interface LoginDetails {\r\n        username: string,\r\n        password: string,\r\n        google_username?: string,\r\n        google_password?: string,\r\n    }\r\n}","/// <reference path=\"snapchat.agent.ts\" />\r\n/// <reference path=\"snapchat.models.ts\" />\r\n\r\nnamespace Snapchat {\r\n    export class Client {\r\n        private SnapchatAgent: SnapchatAgent;\r\n\r\n        public Initialize() {\r\n            this.SnapchatAgent = new SnapchatAgent();\r\n\r\n            return new Promise((resolve) => {\r\n                this.SnapchatAgent.Initialize().then(function () {\r\n                    resolve(this);\r\n                });\r\n            });\r\n        }\r\n\r\n        public Login(details: Snapchat.LoginDetails) {\r\n            //TODO\r\n            let headers = {\r\n                'Connection': 'Keep-Alive',\r\n                'Accept-Encoding': 'gzip',\r\n                'User-Agent': this.SnapchatAgent.CASPER_USER_AGENT,\r\n            };\r\n            let timestamp = this.SnapchatAgent.GenerateTimeStamp(),\r\n                self = this;\r\n\r\n            this.SnapchatAgent.PostCasper('/snapchat/auth', [\r\n                ['username', details.username],\r\n                ['password', details.password],\r\n                ['snapchat_version', this.SnapchatAgent.SNAPCHAT_VERSION],\r\n                ['timestamp', timestamp.toString()],\r\n                ['token', this.SnapchatAgent.CASPER_API_TOKEN],\r\n                ['token_hash', this.SnapchatAgent.GenerateCasperTokenHash(timestamp)]\r\n            ], headers).then(function (snapchatData) {\r\n                var data = JSON.parse(snapchatData);\r\n                self.SnapchatAgent.SNAPCHAT_CLIENT_AUTH_TOKEN = data.headers['X-Snapchat-Client-Auth-Token'];\r\n                self.SnapchatAgent.SNAPCHAT_CLIENT_TOKEN = data.headers['X-Snapchat-Client-Token'];\r\n                self.SnapchatAgent.SNAPCHAT_UUID = data.headers['X-Snapchat-UUID'];\r\n\r\n                headers = data.headers;\r\n                //TODO: Post to snapchat\r\n            });\r\n        }\r\n    }\r\n}","/// <reference path=\"SC/snapchat.ts\" />\r\n/// <reference path=\"typings/winrt/winrt.d.ts\" />\r\n/// <reference path=\"typings/jquery/jquery.d.ts\" />\r\n/// <reference path=\"typings/es6-promise/es6-promise.d.ts\" />\r\nvar views\r\ndeclare var Handlebars: any;\r\n\r\nmodule swiftsnapper {\r\n    \"use strict\";\r\n\r\n    export module CameraManager {\r\n        var video;\r\n        var mediaStream;\r\n\r\n        export function initialize(conf) {\r\n            video = document.getElementById('CameraPreview');\r\n            var Capture = Windows.Media.Capture;\r\n            var mediaCapture = new Capture.MediaCapture();\r\n            var mediaSettings = new Capture.MediaCaptureInitializationSettings();\r\n            mediaSettings.streamingCaptureMode = Windows.Media.Capture.StreamingCaptureMode.video;\r\n\r\n            Windows.Devices.Enumeration.DeviceInformation.findAllAsync(Windows.Devices.Enumeration.DeviceClass.videoCapture)\r\n                .done(function (devices) {\r\n                    if (devices.length > 0) {\r\n                        if (conf.frontFacing) {\r\n                            video.classList.add('FrontFacing');\r\n\r\n                            mediaSettings.videoDeviceId = devices[1].id;\r\n                        } else {\r\n                            video.classList.remove('FrontFacing');\r\n\r\n                            mediaSettings.videoDeviceId = devices[0].id;\r\n                        }\r\n\r\n                        mediaCapture.initializeAsync(mediaSettings).done(function () {\r\n                            video.src = URL.createObjectURL(mediaCapture);\r\n                            video.play();\r\n                        });\r\n                    } else {\r\n                        //No camera found\r\n                    }\r\n                });\r\n        }\r\n\r\n        export function takePhoto() {\r\n            //TODO\r\n        }\r\n    }\r\n\r\n    export module Application {\r\n        export function initialize() {\r\n            document.addEventListener('deviceready', onDeviceReady, false);\r\n\r\n            var SC = new Snapchat.Client();\r\n            SC.Initialize().then(function () {\r\n                SC.Login({\r\n                    username: 'user',\r\n                    password: 'pass',\r\n                    google_username: 'user@gmail.com',\r\n                    google_password: 'pass',\r\n                });\r\n            });\r\n        }\r\n\r\n        function onDeviceReady() {\r\n            // Handle the Cordova pause and resume events\r\n            document.addEventListener('pause', onPause, false);\r\n            document.addEventListener('resume', onResume, false);\r\n\r\n            CameraManager.initialize({\r\n                'frontFacing': false\r\n            });\r\n        }\r\n\r\n        function onPause() {\r\n            // TODO: This application has been suspended. Save application state here.\r\n        }\r\n\r\n        function onResume() {\r\n            CameraManager.initialize({\r\n                'frontFacing': false\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    window.onload = function () {\r\n        //TODO: Provide data from file\r\n        var lang = {\r\n            app: {\r\n                name: 'SwiftSnapper'\r\n            },\r\n            snaps: {\r\n                double_tap_to_reply: 'Double tap to reply',\r\n                day_ago: 'day ago',\r\n                days_ago: 'days ago',\r\n                just_now: 'just now',\r\n            },\r\n            stories: {\r\n                title: 'Stories',\r\n                discover: 'Discover',\r\n            }\r\n        };\r\n        var template = Handlebars.compile($(\"#template\").html());\r\n        $('#PageContent').html(template(lang));\r\n        Application.initialize();\r\n\r\n        //Init Owl Carousel\r\n        views = $('#views');\r\n        views.owlCarousel({\r\n            loop: false,\r\n            nav: false,\r\n            dots: false,\r\n            video: true,\r\n            margin: 0,\r\n            startPosition: 1,\r\n            pullDrag: false,\r\n            fallbackEasing: 'easeInOutQuart',\r\n            responsive: {\r\n                0: {\r\n                    items: 1\r\n                },\r\n                1024: {\r\n                    items: 3\r\n                }\r\n            }\r\n        });\r\n        $('#ViewSnapsBtn').on('click tap', function () {\r\n            views.trigger('prev.owl.carousel', [300]);\r\n        });\r\n        $('#ViewStoriesBtn').on('click tap', function () {\r\n            views.trigger('next.owl.carousel', [300]);\r\n        });\r\n\r\n        $('#CameraToggleBtn').on('click tap', function () {\r\n            if ($('#CameraPreview').hasClass('FrontFacing')) {\r\n                CameraManager.initialize({\r\n                    'frontFacing': false\r\n                });\r\n            } else {\r\n                CameraManager.initialize({\r\n                    'frontFacing': true\r\n                });\r\n            }\r\n            \r\n        });\r\n        $('#ShutterBtn').on('click tap', function () {\r\n            CameraManager.takePhoto();\r\n        });\r\n\r\n\r\n        if (typeof Windows !== 'undefined' && Windows.Foundation.Metadata['ApiInformation'].isTypePresent('Windows.Phone.UI.Input.HardwareButtons')) {\r\n            Windows['Phone'].UI.Input.HardwareButtons.addEventListener('camerapressed', function (e) {\r\n                $('#ShutterBtn').click();\r\n            });\r\n        }\r\n    }\r\n}\r\n"]}